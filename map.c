//外部变量
extern int (*Q)[10];//地图
extern int Q0[10][10];
extern int gs,bs;//第几关,第几步 
extern int q, p, i, j, w[7], e[7];//记录箱子要去位置用
extern int xr , yr ;//小人位置
int map(void)	//新地图赋值给全局变量Q[10][10]
{
	bs=0;//步数记为0 
	++gs;//关数加一
	int Q1[10][10] = {
	{ 0, 0, 1, 1, 1, 0, 0, 0, 0, 0 },
	{ 0, 0, 1, 2, 1, 0, 0, 0, 0, 0 },
	{ 0, 0, 1, 0, 1, 1, 1, 1, 0, 0 },
	{ 1, 1, 1, 3, 3, 0, 2, 1, 0, 0 },
	{ 1, 2, 3, 0, 0, 1, 1, 1, 0, 0 },
	{ 1, 1, 1, 1, 3, 1, 0, 0, 0, 0 },
	{ 0, 0, 0, 1, 2, 1, 0, 0, 0, 0 },
	{ 0, 0, 0, 1, 1, 1, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, };
	int Q2[10][10] = {
	{ 0, 0, 0, 0, 1, 1, 1, 1, 1, 0 },
	{ 1, 1, 1, 1, 1, 0, 0, 0, 1, 0 },
	{ 1, 0, 0, 1, 1, 3, 3, 0, 1, 0 },
	{ 1, 0, 0, 0, 0, 0, 3, 0, 1, 0 },
	{ 1, 0, 0, 0, 1, 1, 1, 1, 1, 0 },
	{ 1, 1, 1, 0, 1, 0, 0, 0, 0, 0 },
	{ 0, 1, 0, 0, 1, 1, 1, 0, 0, 0 },
	{ 0, 1, 0, 2, 2, 2, 1, 0, 0, 0 },
	{ 0, 1, 1, 1, 1, 1, 1, 0, 0, 0 } };
	int Q3[10][10] = {
	{ 0, 1, 1, 1, 1, 0, 0, 0, 0, 0 },
	{ 1, 1, 0, 0, 1, 1, 1, 0, 0, 0 },
	{ 1, 2, 2, 0, 3, 0, 1, 0, 0, 0 },
	{ 1, 2, 2, 0, 1, 0, 1, 0, 0, 0 },
	{ 1, 1, 1, 3, 1, 0, 1, 0, 0, 0 },
	{ 1, 0, 0, 0, 1, 0, 1, 0, 0, 0 },
	{ 1, 0, 3, 0, 0, 0, 1, 0, 0, 0 },
	{ 1, 0, 0, 3, 0, 1, 1, 0, 0, 0 },
	{ 1, 1, 1, 0, 0, 1, 0, 0, 0, 0 },
	{ 0, 0, 1, 1, 1, 1, 0, 0, 0, 0 } };
	int Q4[10][10] = {
	{ 0, 1, 1, 1, 1, 1, 1, 0, 0, 0 },
	{ 0, 1, 0, 0, 0, 1, 1, 1, 0, 0 },
	{ 1, 1, 0, 2, 0, 0, 0, 1, 0, 0 },
	{ 1, 2, 0, 3, 2, 3, 0, 1, 0, 0 },
	{ 1, 1, 3, 1, 0, 1, 1, 1, 0, 0 },
	{ 0, 1, 0, 0, 0, 1, 0, 0, 0, 0 },
	{ 0, 1, 1, 1, 1, 1, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } };
	int Q5[10][10] = {
	{ 0, 0, 1, 1, 1, 1, 0, 0, 0, 0 },
	{ 1, 1, 1, 0, 0, 1, 1, 1, 0, 0 },
	{ 1, 0, 2, 2, 0, 3, 2, 1, 0, 0 },
	{ 1, 0, 0, 3, 3, 0, 0, 1, 0, 0 },
	{ 1, 1, 1, 1, 0, 0, 0, 1, 0, 0 },
	{ 0, 0, 0, 1, 1, 1, 1, 1, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } };

	int aq, bq;
	switch (gs)
	{
		case 1:for (aq = 0; aq < 10; aq++)
				for (bq = 0; bq < 10; bq++)
				Q0[aq][bq] = Q1[aq][bq];
			xr = 4; yr = 3; break;
		case 2:for (aq = 0; aq < 10; aq++)
				for (bq = 0; bq < 10; bq++)
				Q0[aq][bq] = Q2[aq][bq];
			xr = 1; yr = 7; break;
		case 3:for (aq = 0; aq < 10; aq++)
				for (bq = 0; bq < 10; bq++)
				Q0[aq][bq] = Q3[aq][bq];
			xr = 2; yr = 3;break;
		case 4:for (aq = 0; aq < 10; aq++)
				for (bq = 0; bq < 10; bq++)
				Q0[aq][bq] = Q4[aq][bq];
			xr = 1; yr = 3;break;
		case 5:for (aq = 0; aq < 10; aq++)
				for (bq = 0; bq < 10; bq++)
				Q0[aq][bq] = Q5[aq][bq];
			xr = 3; yr = 6;break;

	}
	Q0[xr][yr] = 4;
	//定义每局小人的初始位置 
	i = 0; j = 0;//再次初始为0；
	for (q = 0; q<10; q++)
	for (p = 0; p<10; p++)
	if (Q0[q][p] == 2)//记录○的初始位置 
	{
		w[i] = q;e[j] = p;
		i++;j++;
	}
	Q=Q0;
	return 0;
}
